<div class="container center">
    <div class="block_bg">
        <div class="block">
            <div class="form-row">
                <h4 style="font-weight: 600; color: #63B7AF;">{{ form_title }}</h4>
            </div>
            
            <form *ngIf="app_loaded" [formGroup]="addHealthAppForm">
                <div class="form-row mb-2">
                    <div class="col form-group">
                        <label for="date">DATE</label>
                        <input type="date" class="form-control" formControlName="date" id="date">
                    </div>
                    <div class="col form-group">
                        <label for="producer_id">PRODUCER</label>
                        <select class="custom-select" formControlName="producer_id" id="producer_id" (focus)="setValid($event)">
                            <option value="" selected>Select Producer</option>
                            <option *ngFor="let producer of producers" value="{{producer.id}}"> {{ producer.name }} </option>
                        </select>
                    </div>
                    <div class="col form-group">
                        <label for="client_name">CLIENT</label>
                        <input type="text" class="form-control" formControlName="client_name" id="client_name" (focus)="setValid($event)" autocomplete="off">
                    </div>
                </div>
        
                <div class="form-row mb-2"><div class="col-auto form-group">
                    <label for="premium">PREMIUM</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">$</span>
                            </div>
                            <input type="number" min="0" class="form-control" formControlName="premium" id="premium" autocomplete="off" (change)="updateAnnualPremium()" style="max-width: 120px;">
                        </div>
                    </div>

                    <div class="col form-group">
                        <label for="mode">MODE</label>
                        <select class="custom-select" formControlName="mode" id="mode" (focus)="setValid($event)" (change)="updateAnnualPremium()">
                            <option value="" selected>Select Mode</option>
                            <option *ngFor="let option of constants['modes']" value="{{option}}"> {{ option }} </option>
                        </select>
                    </div>
        
                    <div class="col-auto form-group">
                        <label for="annual_premium">ANNUAL PREMIUM</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">$</span>
                            </div>
                            <input type="number" min="0" class="form-control" formControlName="annual_premium" id="annual_premium" autocomplete="off" style="max-width: 120px;" readonly>
                        </div>
                    </div>

                    <div class="col-auto form-group">
                        <label for="status">STATUS</label>
                        <select class="custom-select" formControlName="status" id="status" (focus)="setValid($event)">
                            <option value="" selected>Select Status</option>
                            <option *ngFor="let option of constants['status_options']" value="{{option}}"> {{ option }} </option>
                        </select>
                    </div>
                </div>
        
                <div class="form-row mb-2">   
                    <div class="col-auto form-group">
                        <label for="product">PRODUCT</label>
                        <select class="custom-select" formControlName="product" id="product" (focus)="setValid($event)" (change)="updateBonus()">
                            <option value="" selected>Select Product</option>
                            <option *ngFor="let option of constants['products']" value="{{option}}"> {{ option }} </option>
                        </select>
                    </div>

                    <div class="col-auto form-group">
                        <label for="bonus">BONUS</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">$</span>
                            </div>
                            <input type="number" min="0" class="form-control" formControlName="bonus" id="bonus" autocomplete="off" style="max-width: 120px;">
                        </div>
                    </div>
                    
                    <div class="col form-group">
                        <label for="marketing_source">MARKETING SOURCE</label>
                        <select class="custom-select" formControlName="marketing_source" id="marketing_source">
                            <option value="" selected>Select Marketing Source</option>
                            <option *ngFor="let option of constants['marketing_source']" value="{{option}}"> {{ option }} </option>
                        </select>
                    </div>
                </div>

                <div class="form-row mb-2">
                    <div class="col form-group">
                        <label for="co_producer_id">CO-PRODUCER</label>
                        <select class="custom-select" formControlName="co_producer_id" id="co_producer_id">
                            <option value="" selected>Select Co-Producer</option>
                            <option *ngFor="let producer of producers" value="{{producer.id}}"> {{ producer.name }} </option>
                        </select>
                    </div>

                    <div class="col form-group">
                        <label for="co_producer_bonus">CO-PRODUCER BONUS</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">$</span>
                            </div>
                            <input type="number" min="0" class="form-control" formControlName="co_producer_bonus" id="co_producer_bonus" autocomplete="off">
                        </div>
                    </div>
                </div>
        
                <div style="display: flex; justify-content: center;">
                    <input class="submit_btn" type="submit" value="{{ button_text }}" (click)="onSubmit()">
                </div>
            </form>

        </div>
    </div>    
</div>
